import React from 'react';
import { RouteHandler } from 'react-router';
import MainStore from '../../stores/mainStore';
import MainActions from '../../actions/mainActions';
import urlGen from '../../../util/urlGen.js';

class LeftMenu extends React.Component {

    constructor(props, context) {
        super(props);
    }

    render() {
        let home = <span>
                    <p>
                        <a href={urlGen.routes.home()}
                           className="mdl-color-text--grey-800 item-content external" onTouchTap={() => this.closeLeftNav()}>
                            <i className="material-icons" style={styles.navIcon}>home</i>Home
                        </a>
                    </p>
               </span>;
        if (this.props.routerPath === '/home' || this.props.routerPath === '/') {
            home = <span></span>
        }
        return (
            <span>
                    <div className="panel-overlay"></div>
                    <div className="panel panel-left panel-cover">
                        <div className="content-block">
                            { home }
                            <p>
                                <a href={urlGen.routes.agents()}
                                   className="mdl-color-text--grey-800 item-content external" onTouchTap={() => this.closeLeftNav()}>
                                    <i className="material-icons" style={styles.navIcon}>build</i>Software Agents
                                </a>
                            </p>
                            {/*<p className="mdl-color-text--grey-400"><i className="material-icons" style={styles.navIcon}>settings</i>Settings</p>
                             <p className="mdl-color-text--grey-400"><i className="material-icons" style={styles.navIcon}>help</i>Help</p>
                             <p className="mdl-color-text--grey-400">Governance</p>
                             <p className="mdl-color-text--grey-400">Terms &amp; Conditions</p>*/}
                            <p>
                                <a href="#" className="mdl-color-text--grey-800 item-content external" onTouchTap={() => this.handleTouchTap()}>
                                    <i className="material-icons" style={styles.navIcon}>exit_to_app</i>Log Out
                                </a>
                            </p>
                        </div>
                    </div>
                </span>
        );
    }

    handleTouchTap() {
        this.props.appRouter.transitionTo('/login');
        MainStore.handleLogout()
    }

    closeLeftNav() {
        new Framework7().closePanel();
    }
}

var styles = {
    navIcon: {
        paddingRight: 5,
        verticalAlign: -6
    }
};

export default LeftMenu;